<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>
<link href="cadena_productiva_genero_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="cadena_productiva_genero_files/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="cadena_productiva_genero_files/echarts4r-4.8.0/echarts-en.min.js"></script>
<script src="cadena_productiva_genero_files/echarts4r-4.8.0/ecStat.min.js"></script>
<script src="cadena_productiva_genero_files/echarts4r-4.8.0/dataTool.min.js"></script>
<script src="cadena_productiva_genero_files/echarts4r-binding-0.4.5/echarts4r.js"></script>
  <title>echarts4r</title>
</head>
<body>
<div id="htmlwidget_container">
  <div class="echarts4r html-widget html-fill-item" id="htmlwidget-a6a3dfd2185f4bf1ef96" style="width:100%;height:500px;"></div>
</div>
<script type="application/json" data-for="htmlwidget-a6a3dfd2185f4bf1ef96">{"x":{"theme":"","tl":false,"draw":true,"renderer":"canvas","events":[],"buttons":[],"opts":{"yAxis":[{"show":true,"name":"Cantidad de casos","nameLocation":"middle","nameGap":50,"nameTextStyle":{"fontSize":14}}],"xAxis":[{"data":["Bienes creativos","Contenidos creativos","Experiencias creativas","Servicios creativos",null],"type":"category","boundaryGap":true}],"legend":{"data":["Hombre","Mujer","Otro"],"show":true,"type":"scroll","orient":"vertical","left":0,"top":"middle"},"series":[{"data":[{"value":["Bienes creativos","18"]},{"value":["Contenidos creativos","32"]},{"value":["Experiencias creativas","17"]},{"value":["Servicios creativos","27"]},{"value":[null,"11"]}],"name":"Hombre","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"cartesian2d","stack":"grp"},{"data":[{"value":["Bienes creativos","14"]},{"value":["Contenidos creativos"," 7"]},{"value":["Experiencias creativas"," 9"]},{"value":["Servicios creativos","13"]},{"value":[null," 7"]}],"name":"Mujer","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"cartesian2d","stack":"grp"},{"data":[{"value":["Bienes creativos","1"]},{"value":["Contenidos creativos","0"]},{"value":["Experiencias creativas","1"]},{"value":["Servicios creativos","0"]},{"value":[null,"0"]}],"name":"Otro","type":"bar","yAxisIndex":0,"xAxisIndex":0,"coordinateSystem":"cartesian2d","stack":"grp"}],"tooltip":{"trigger":"axis","formatter":"\n     function(params) {\n      let total = 0;\n\n      // Calcular el total de la barra y asegurar que sean números\n      params.forEach(item => { total += Number(item.value[1]); });\n\n      // Ordenar params de mayor a menor según el valor\n      params.sort((a, b) => b.value[1] - a.value[1]);\n\n      // Crear el contenido del tooltip\n      let res = `<div><strong>${params[0].name}<\/strong><\/div>`; // Nombre de la región\n      params.forEach(item => {\n        let value = Number(item.value[1]); // Convertir valor a número\n        if (value > 0) { // Mostrar solo si el valor es mayor que 0\n          let percent = ((value / total) * 100).toFixed(2); // Calcular el porcentaje\n          res += `\n            <div style='margin:5px 0;'>\n              <span style='display:inline-block;width:10px;height:10px;border-radius:50%;background:${item.color};margin-right:5px;'><\/span>\n              ${item.seriesName}: ${value} (${percent}%)\n            <\/div>\n          `;\n        }\n      });\n\n      // Mostrar el total al final\n      res += `<div><strong>Total: ${total}<\/strong><\/div>`;\n      return res;\n    }\n    "},"grid":[{"left":"30%"}]},"dispose":true},"evals":["opts.tooltip.formatter"],"jsHooks":[]}</script>
<script type="application/htmlwidget-sizing" data-for="htmlwidget-a6a3dfd2185f4bf1ef96">{"viewer":{"width":"100%","height":350,"padding":0,"fill":true},"browser":{"width":"100%","height":500,"padding":0,"fill":true}}</script>
</body>
</html>
